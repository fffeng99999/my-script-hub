

# useå’Œmodçš„åŒºåˆ«

---

## 1ï¸âƒ£ `mod`ï¼šå£°æ˜æ¨¡å—ï¼ˆå‘Šè¯‰ç¼–è¯‘å™¨â€œæˆ‘æœ‰è¿™ä¸ªæ–‡ä»¶/æ¨¡å—â€ï¼‰

- **åŠŸèƒ½**ï¼šæŠŠæºæ–‡ä»¶æˆ–å­æ¨¡å— **åŠ å…¥å½“å‰ crate**
    
- **æœ¬è´¨**ï¼šç¼–è¯‘æ—¶æ‰«ææ–‡ä»¶ã€ç”Ÿæˆæ¨¡å—æ ‘
    
- **ä¸ä¼š** è‡ªåŠ¨æŠŠå†…å®¹å¼•å…¥ä½œç”¨åŸŸ
    

ä¾‹å­ï¼š

```
src/
 â”œâ”€ main.rs
 â”œâ”€ foo.rs
```

### main.rs

```rust
mod foo; // å£°æ˜æ¨¡å— foo.rs
fn main() {}
```

> è¿™æ—¶ Rust çŸ¥é“æœ‰ `foo` æ¨¡å—äº†ï¼Œä½†ä½ è¿˜ä¸èƒ½ç›´æ¥ç”¨ `foo::something`ï¼Œ  
> å¦‚æœ `foo` é‡Œæœ‰å‡½æ•°ï¼Œè¦ä¹ˆå†™å…¨è·¯å¾„ `foo::func()`ï¼Œè¦ä¹ˆé…åˆ `use`ã€‚

---

## 2ï¸âƒ£ `use`ï¼šæŠŠæ¨¡å—/ç±»å‹å¼•å…¥å½“å‰ä½œç”¨åŸŸï¼ˆæ–¹ä¾¿è®¿é—®ï¼‰

- **åŠŸèƒ½**ï¼šåœ¨å½“å‰ä½œç”¨åŸŸåˆ›å»ºä¸€ä¸ª**çŸ­åå­—**
    
- **æœ¬è´¨**ï¼šç›¸å½“äº C++ çš„ `using` æˆ– Python çš„ `import as`
    
- **ä¸èƒ½** åˆ›å»ºæ¨¡å—ï¼Œå¿…é¡»åœ¨æ¨¡å—å·²ç»å­˜åœ¨åä½¿ç”¨
    

ä¾‹å­ï¼š

```rust
mod foo;

use crate::foo::hello; // è®© hello å¯ä»¥ç›´æ¥ç”¨ï¼Œä¸ç”¨ foo::hello

fn main() {
    hello();
}
```

`use` **ä¸ä¼š** è‡ªåŠ¨ç”Ÿæˆæ¨¡å—ï¼Œå®ƒåªæ˜¯æŠŠå·²æœ‰è·¯å¾„æ¬è¿›ä½œç”¨åŸŸã€‚

---

## 3ï¸âƒ£ ç›´è§‚ç±»æ¯”

|å…³é”®å­—|ä½œç”¨|ç±»æ¯”|
|---|---|---|
|`mod`|**å£°æ˜æ¨¡å—**ï¼Œè®©ç¼–è¯‘å™¨çŸ¥é“å»æ‰¾æ–‡ä»¶/å­æ¨¡å—|C çš„ `#include` æ–‡ä»¶å®šä¹‰|
|`use`|**å¼•å…¥ç¬¦å·åˆ°ä½œç”¨åŸŸ**ï¼Œç®€åŒ–è·¯å¾„|Python çš„ `from xxx import`|

> ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼š
> 
> - `mod` = æ³¨å†Œæ¨¡å—
>     
> - `use` = åˆ›å»ºæœ¬åœ°åˆ«å
>     

---

## 4ï¸âƒ£ å¸¸è§ç»„åˆå†™æ³•

æœ€å¸¸è§æ¨¡å¼æ˜¯ **`mod` + `use` é…åˆ**ï¼š

```
src/
 â”œâ”€ main.rs
 â”œâ”€ foo.rs
 â””â”€ bar.rs
```

### foo.rs

```rust
pub fn hello() {
    println!("hello");
}
```

### main.rs

```rust
mod foo;             // å£°æ˜æ¨¡å—
use crate::foo::hello; // å¼•å…¥å‡½æ•°åˆ°å½“å‰ä½œç”¨åŸŸ

fn main() {
    hello();         // å¯ä»¥ç›´æ¥ç”¨
}
```

å¦‚æœä¸ç”¨ `use`ï¼Œå°±å¾—å†™å…¨è·¯å¾„ï¼š

```rust
mod foo;

fn main() {
    foo::hello();
}
```

---

### 5ï¸âƒ£ è®°å¿†å£è¯€

- **`mod`**ï¼šæˆ‘å‘Šè¯‰ Rustï¼Œâ€œæˆ‘æœ‰ä¸ªæ¨¡å—â€
    
- **`use`**ï¼šæˆ‘å‘Šè¯‰ Rustï¼Œâ€œæˆ‘æƒ³åœ¨è¿™é‡Œç”¨å®ƒï¼Œæœ€å¥½ç”¨çŸ­åå­—â€
    

---


# ä½¿ç”¨åœºæ™¯ä¸€ï¼šåŒçº§æ¨¡å—æ— æ³•ä½¿ç”¨modï¼Œå¿…é¡»ä½¿ç”¨useçš„åŸå› 

^f3f5a9

[[crateåŒ…çš„åŒçº§è°ƒç”¨ï¼ˆå¿…é¡»å¢åŠ crateï¼‰]]

è¿™ä¸ªé—®é¢˜é—®å¾—å¾ˆåˆ°ä½ï¼Œæ¶‰åŠ **Rust æ¨¡å—ç³»ç»Ÿçš„å·¥ä½œåŸç†**ã€‚

æ ¸å¿ƒåŸå› æ˜¯ï¼š

> **`mod` æ˜¯å£°æ˜æ¨¡å—ï¼ˆå®šä¹‰æ¨¡å—ï¼‰ï¼Œä¸æ˜¯å¯¼å…¥åˆ«çš„æ¨¡å—ä½œç”¨åŸŸçš„å·¥å…·**ã€‚  
> æ¨¡å—å®šä¹‰å®Œæˆåï¼Œäº’ç›¸è°ƒç”¨å¿…é¡»é€šè¿‡ **è·¯å¾„è®¿é—®**ï¼Œè€Œ `use` åªæ˜¯ç®€åŒ–è·¯å¾„ã€‚


å‡è®¾ç›®å½•ç»“æ„ï¼š

```
src/
 â”œâ”€ main.rs
 â”œâ”€ foo.rs
 â””â”€ bar.rs
```

`main.rs`ï¼š

```rust
mod foo;
mod bar;

fn main() {
    foo::call_bar();
}
```

`foo.rs`ï¼š

```rust
pub fn call_bar() {
    println!("foo è°ƒç”¨ bar");
    // è¿™é‡Œæƒ³è°ƒç”¨ bar::hello()
}
```

`bar.rs`ï¼š

```rust
pub fn hello() {
    println!("Hello from bar!");
}
```

---

### 1ï¸âƒ£ ç›´æ¥å†™ `mod bar` åœ¨ foo.rs ä¸è¡Œ

```rust
mod bar; // âŒ é”™è¯¯
```

åŸå› ï¼š

1. **`mod bar;` çš„å«ä¹‰æ˜¯â€œå£°æ˜ä¸€ä¸ªæ–°çš„å­æ¨¡å— barâ€**
    
2. ==Rust ä¼šåœ¨ `src/foo/bar.rs` æˆ– `src/foo/bar/mod.rs` æ‰¾æ–‡ä»¶==
    
3. å®ƒä¸ä¼šå»æ‰¾**åŒçº§ç›®å½•ä¸‹çš„ bar.rs**ï¼Œä¹Ÿä¸ä¼šé‡ç”¨å·²ç»åœ¨ `main.rs` å£°æ˜çš„ `bar`
    

æ‰€ä»¥ `mod` ä¸èƒ½ç”¨æ¥**å¯¼å…¥åŒçº§å…„å¼Ÿæ¨¡å—**ï¼Œå®ƒåªä¼šåˆ›å»ºå­æ¨¡å—ã€‚

---

### 2ï¸âƒ£ æ­£ç¡®æ–¹å¼ï¼šç”¨ç»å¯¹è·¯å¾„ + `use`

åœ¨ `foo.rs` é‡Œï¼š

```rust
use crate::bar; // ä» crate æ ¹å¼€å§‹æ‰¾åˆ° bar æ¨¡å—

pub fn call_bar() {
    println!("foo è°ƒç”¨ bar");
    bar::hello();
}
```

æˆ–è€…ä¸ `use`ï¼Œç›´æ¥å†™å…¨è·¯å¾„ï¼š

```rust
pub fn call_bar() {
    crate::bar::hello();
}
```

---

### ğŸ”¹ æ€»ç»“åŸå› 

1. **`mod` æ˜¯å£°æ˜æ¨¡å—ï¼Œä¸æ˜¯å¯¼å…¥æ¨¡å—**
    
    - åœ¨å…„å¼Ÿæ¨¡å—é‡Œå†™ `mod bar;` ç›¸å½“äºâ€œåœ¨ foo ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„å­æ¨¡å— barâ€
        
    - Rust ä¸ä¼šè‡ªåŠ¨é‡ç”¨å¤–é¢å£°æ˜è¿‡çš„ `bar`
        
2. **å…„å¼Ÿæ¨¡å—è®¿é—®è¦ä¹ˆç”¨ç»å¯¹è·¯å¾„ï¼Œè¦ä¹ˆç”¨ use**
    
    - `crate::bar::func()`
        
    - æˆ– `use crate::bar;` ç„¶å `bar::func()`
        

---
