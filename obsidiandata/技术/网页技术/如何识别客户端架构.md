å¾ˆå¤šè½¯ä»¶ä¸‹è½½é¡µé¢èƒ½è‡ªåŠ¨åˆ¤æ–­ä½ ç”µè„‘çš„æ¶æ„ï¼ˆå¦‚ Windows/Mac/Linuxï¼Œx86/x64/ARMï¼‰å¹¶ç»™å‡ºé»˜è®¤ä¸‹è½½æŒ‰é’®ï¼Œä¸»è¦æ˜¯é€šè¿‡æµè§ˆå™¨çš„ **User-Agent** ä¿¡æ¯å®ç°çš„ã€‚ä¸‹é¢æ˜¯å…·ä½“çš„åŸç†å’Œå®ç°æ–¹å¼ï¼š

---

### âœ… **åŸç†**

æµè§ˆå™¨è®¿é—®ç½‘é¡µæ—¶ï¼Œä¼šå‘é€ä¸€ä¸ª HTTP è¯·æ±‚å¤´ï¼ŒåŒ…å« `User-Agent` å­—æ®µï¼Œé‡Œé¢æè¿°äº†ç”¨æˆ·çš„æ“ä½œç³»ç»Ÿã€CPU æ¶æ„ã€æµè§ˆå™¨ç±»å‹ç­‰ä¿¡æ¯ã€‚æœåŠ¡å™¨æˆ–å‰ç«¯è„šæœ¬è§£æè¿™ä¸ªå­—æ®µï¼Œå°±å¯ä»¥åˆ¤æ–­ç”¨æˆ·çš„è®¾å¤‡ç¯å¢ƒã€‚

---

### ğŸ§  ç¤ºä¾‹ï¼šUser-Agent å­—ç¬¦ä¸²

**Windows x64 ç¤ºä¾‹ï¼š**

```swift
`Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 ...`
```
**macOS ARM ç¤ºä¾‹ï¼ˆM1/M2 èŠ¯ç‰‡ï¼‰ï¼š**
```swift

`Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 ... Mozilla/5.0 (Macintosh; ARM Mac OS X 11_2_3) AppleWebKit/605.1.15 ...`
```
**Linux ARM ç¤ºä¾‹ï¼ˆæ ‘è“æ´¾ï¼‰ï¼š**
```swift
`Mozilla/5.0 (X11; Linux armv7l) AppleWebKit/537.36 ...`
```

---

### âš™ï¸ å®ç°æ–¹å¼

#### 1. **å‰ç«¯ JavaScript è¯†åˆ«ï¼ˆå¸¸è§ï¼‰**

```js
const ua = navigator.userAgent.toLowerCase(); if (ua.includes("windows nt") && ua.includes("win64")) {     // æ˜¾ç¤º Windows 64-bit ä¸‹è½½é“¾æ¥ } else if (ua.includes("mac os x") && ua.includes("arm")) {     // æ˜¾ç¤º macOS ARM ç‰ˆæœ¬ä¸‹è½½ } else if (ua.includes("linux") && ua.includes("arm")) {     // æ˜¾ç¤º Linux ARM ä¸‹è½½ } else {     // æä¾›é€šç”¨æˆ–æ‰‹åŠ¨é€‰æ‹©é“¾æ¥ }
```

#### 2. **åç«¯è¯†åˆ«ï¼ˆæ›´å‡†ç¡®ï¼‰**

åç«¯æ ¹æ® `HTTP_USER_AGENT` å­—æ®µåˆ¤æ–­ç³»ç»Ÿæ¶æ„ï¼Œç„¶åè¿”å›æ¨èçš„ä¸‹è½½é“¾æ¥ã€‚ä¾‹å¦‚ï¼š

```js
user_agent = request.headers.get("User-Agent") if "Win64" in user_agent:     return redirect("/download/windows-x64.exe") elif "Macintosh" in user_agent and "ARM" in user_agent:     return redirect("/download/mac-arm.dmg") # ...`
```

---

### ğŸ”’ æ³¨æ„ç‚¹

- User-Agent å¯ä»¥è¢«ä¼ªé€ ï¼Œä¸æ˜¯ç»å¯¹å®‰å…¨ã€‚
    
- æœ‰äº›æµè§ˆå™¨å¯¹éšç§åšäº†å¤„ç†ï¼Œå¯èƒ½éšè—éƒ¨åˆ†æ¶æ„ä¿¡æ¯ã€‚
    
- éœ€è¦åšå¥½â€œå…¶ä»–å¹³å°æ‰‹åŠ¨é€‰æ‹©â€çš„å¤‡ç”¨æ–¹æ¡ˆã€‚
    

---

### âœ… æœ€ä½³å®è·µ

- é»˜è®¤æŒ‰é’®æ¨èä¸»æµç³»ç»Ÿæ¶æ„ã€‚
    
- æä¾›â€œæŸ¥çœ‹æ‰€æœ‰å¹³å°ç‰ˆæœ¬â€çš„äºŒçº§é€‰é¡¹ã€‚
    
- å°½é‡åœ¨å‰ç«¯å³æ—¶åˆ‡æ¢ä¸‹è½½æŒ‰é’®ï¼Œè€Œéä»…é æœåŠ¡ç«¯è·³è½¬ã€‚

## æ£€æµ‹ç½‘é¡µä»£ç 
```html
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>è‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿä¸‹è½½æ¨è</title>
  <style>
    body { font-family: sans-serif; padding: 2em; background: #f7f7f7; }
    .download-link { display: block; margin: 1em 0; padding: 1em; border-radius: 8px; text-decoration: none; background: #eee; }
    .recommended { background: #007bff; color: white; font-weight: bold; }
  </style>
</head>
<body>
  <h2>è¯·é€‰æ‹©æ‚¨çš„ç‰ˆæœ¬ï¼š</h2>
  <a href="downloads/windows-x64.exe" class="download-link" id="windows-x64">Windows 64ä½</a>
  <a href="downloads/windows-x86.exe" class="download-link" id="windows-x86">Windows 32ä½</a>
  <a href="downloads/mac-intel.dmg" class="download-link" id="mac-intel">macOS Intel</a>
  <a href="downloads/mac-arm.dmg" class="download-link" id="mac-arm">macOS Apple èŠ¯ç‰‡ (M1/M2)</a>
  <a href="downloads/linux-x64.deb" class="download-link" id="linux-x64">Linux 64ä½</a>
  <a href="downloads/linux-arm.deb" class="download-link" id="linux-arm">Linux ARM (æ ‘è“æ´¾)</a>

  <script>
    const ua = navigator.userAgent.toLowerCase();
    let idToHighlight = "";

    if (ua.includes("windows nt")) {
      if (ua.includes("win64") || ua.includes("x64")) {
        idToHighlight = "windows-x64";
      } else {
        idToHighlight = "windows-x86";
      }
    } else if (ua.includes("mac os x")) {
      if (ua.includes("arm") || ua.includes("applewebkit") && ua.includes("version/")) {
        idToHighlight = "mac-arm";
      } else {
        idToHighlight = "mac-intel";
      }
    } else if (ua.includes("linux")) {
      if (ua.includes("arm")) {
        idToHighlight = "linux-arm";
      } else {
        idToHighlight = "linux-x64";
      }
    }

    if (idToHighlight) {
      const el = document.getElementById(idToHighlight);
      if (el) el.classList.add("recommended");
    }
  </script>
</body>
</html>

```